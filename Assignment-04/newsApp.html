<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>News App</title>

    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    />

    <style>
      body {
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        min-height: 100vh;
        font-family: "Poppins", sans-serif;
      }

      .app-container {
        max-width: 1200px;
        margin: auto;
        padding: 40px 20px;
      }

      .app-title {
        text-align: center;
        color: #fff;
        margin-bottom: 30px;
      }

      .search-box {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 40px;
      }

      .search-box input {
        width: 300px;
        padding: 12px 20px;
        border-radius: 30px;
        border: none;
        outline: none;
      }

      .search-box button {
        padding: 12px 25px;
        border-radius: 30px;
        border: none;
        background: #00feba;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
      }

      .search-box button:hover {
        transform: scale(1.05);
      }

      #Cards {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      .card {
        border-radius: 15px;
        overflow: hidden;
        transition: 0.3s;
      }

      .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      }

      .card img {
        background: #f1f1f1;
      }

      .card-title {
        font-size: 16px;
        font-weight: 600;
      }

      .card-text {
        font-size: 14px;
        color: #555;
      }
    </style>
  </head>

  <body>
    <div class="app-container">
      <h1 class="app-title">ðŸ“° News Finder App</h1>

      <div class="search-box">
        <input
          type="text"
          id="input-val"
          placeholder="Search news (e.g. Technology, Sports)"
          value="technology"
        />
        <button onclick="callData()">Search</button>
      </div>

      <div id="Cards"></div>
    </div>

    <script>
      // Async await
      const callData = async () => {
        const Cards = document.getElementById("Cards");

        try {
          let inputVal = document.getElementById("input-val").value;

          const getData = await fetch(
            `https://newsapi.org/v2/everything?q=${inputVal}&from=2025-11-17&sortBy=publishedAt&apiKey=a8f4059b475542f6b2184b012a961ff2`
          );

          const getResp = await getData.json();

          let cardHtml = "";

          if (getResp.articles.length) {
            getResp.articles.forEach((news) => {
              cardHtml += `
              <div class="card m-2" style="width: 18rem">
                <img src="${
                  news.urlToImage || "https://via.placeholder.com/300x200"
                }"
                  class="card-img-top"
                  style="height:200px; object-fit:cover;"
                />
                <div class="card-body">
                  <h5 class="card-title">${news.title}</h5>
                  <p class="card-text">${
                    news.description || "No description available"
                  }...</p>
                </div>
              </div>
            `;
            });

            Cards.innerHTML = cardHtml;
          } else {
            Cards.innerHTML = `
            <div class="alert alert-danger text-center w-100">
              No result found for <b>${inputVal}</b>
            </div>`;
          }
        } catch (error) {
          Cards.innerHTML = `
          <div class="alert alert-danger w-100 text-center">
            Something went wrong. Try again later.
          </div>`;
        }
      };
    </script>
  </body>
</html>
